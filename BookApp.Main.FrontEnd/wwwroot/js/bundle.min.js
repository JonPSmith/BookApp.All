var BookList=function(n,t){"use strict";function u(t,i){var r=n("#filter-value-group");i?(t.prop("disabled",!1),r.removeClass("dim-filter-value")):(t.prop("disabled",!0),r.addClass("dim-filter-value"))}function i(i,f,e){f=f||"";var o=n("#filter-value-dropdown");u(o,!1);i!=="NoFilter"&&n.ajax({url:r,data:{FilterBy:i}}).done(function(i){e||t.newTrace(i.traceIdentifier,i.numLogs);o.find("option").remove().end().append(n("<option><\/option>").attr("value","").text("Select filter..."));i.result.forEach(function(t){o.append(n("<option><\/option>").attr("value",t.value).text(t.text))});o.val(f);u(o,!0)}).fail(function(){alert("error")})}function f(t){var i=n(t).parents("form");i.submit()}var r=null;return{initialise:function(n,t,u){r=u;i(n,t,!0)},sendForm:function(n){f(n)},filterByHasChanged:function(t){var r=n(t).find(":selected").val();i(r);r==="0"&&f(t)},loadFilterValueDropdown:function(n,t){i(n,t)}}}(window.jQuery,LoggingDisplay),LoggingDisplay=function(n){"use strict";function a(){return l.find("input[name=displaySelect]:checked").val()}function v(){var u=t.requestLogs.length,r,i;for(n(".modal-title span").text(u),n("#all-select span").text(u),r=0,i=0;i<t.requestLogs.length;i++)t.requestLogs[i].isDb&&r++;n("#sql-select span").text(r)}function y(){v();r.modal()}function p(n){switch(n){case"Information":return"text-info";case"Warning":return"text-warning";case"Error":return"text-danger";case"Critical":return"text-danger bold";default:return""}}function u(n){var r,i;for(n=n||a(),r='<div id="log-accordion">',i=0;i<t.requestLogs.length;i++)(n!=="sql"||t.requestLogs[i].isDb)&&(r+='<div class="card"><div class="card-header text-overflow-dots"><a class="card-link" data-toggle="collapse" href="#collapse'+i+'"><span class="'+p(t.requestLogs[i].logLevel)+'">'+t.requestLogs[i].logLevel+":&nbsp;<\/span>"+t.requestLogs[i].eventString+'<\/a><\/div><div id="collapse'+i+'" class="collapse" data-parent="#log-accordion"><div class="card-body white-space-pre">'+t.requestLogs[i].eventString+"<\/div><\/div><\/div>");r+="<\/div>";c.html(r)}function o(i){n.ajax({url:f,data:{traceIdentifier:i}}).done(function(n){t=n;u();y()}).fail(function(){alert("error")})}function w(){o(e)}function s(n,t){e=n;i.find(".badge").text(t+"+")}var f,t=null,e,i=n("#show-logs"),h=n("#show-bg-logs"),r=n("#log-modal"),c=r.find(".modal-body"),l=r.find("#displaySelect");return{initialise:function(t,r,e){f=t;s(r,e);i.unbind("click").bind("click",function(){w()});i.removeClass("d-none");h.unbind("click").bind("click",function(){o("non-http-logs")});n("#all-select").on("click",function(){u("all")});n("#sql-select").on("click",function(){u("sql")})},newTrace:function(n,t){s(n,t)}}}(window.jQuery);